<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVPM Laboratory | Computer Vision in Precision Medicine</title>

    <!-- Tailwind CSS (Styles) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons (Icons) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Configuración personalizada de Tailwind para los colores -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        purple: {
                            50: '#faf5ff',
                            100: '#f3e8ff',
                            500: '#a855f7',
                            600: '#9333ea',
                            700: '#7e22ce',
                            800: '#6b21a8',
                            900: '#581c87',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Ajuste suave para el desplazamiento */
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
            /* Header height */
        }
    </style>
    </style>

    <!-- Dark Mode Init -->
    <script>
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        } else {
            document.documentElement.classList.remove('dark')
        }
    </script>
</head>

<body
    class="bg-white dark:bg-slate-950 font-sans text-slate-900 dark:text-slate-100 selection:bg-purple-100 selection:text-purple-900">

    <!-- HEADER -->
    <header
        class="border-b border-purple-100 dark:border-slate-800 bg-white/95 dark:bg-slate-950/95 backdrop-blur-sm sticky top-0 z-50 transition-colors duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <!-- Logo -->
                <div class="flex items-center gap-3">
                    <!-- Mobile Logo -->
                    <img src="./img/CVPM.png" alt="CVPM" class="h-10 w-auto md:hidden object-contain">
                    <!-- Desktop Logo -->
                    <img src="./img/CVPM_horizontal.png" alt="CVPM" class="hidden md:block h-10 w-auto object-contain">
                </div>

                <!-- Desktop Nav -->
                <nav class="hidden md:flex space-x-8 items-center">
                    <a href="#home"
                        class="text-sm font-semibold text-slate-600 hover:text-purple-700 transition-colors uppercase tracking-wider">Home</a>
                    <a href="#about"
                        class="text-sm font-semibold text-slate-600 hover:text-purple-700 transition-colors uppercase tracking-wider">About</a>
                    <a href="#research"
                        class="text-sm font-semibold text-slate-600 hover:text-purple-700 transition-colors uppercase tracking-wider">Research</a>
                    <a href="#team"
                        class="text-sm font-semibold text-slate-600 hover:text-purple-700 transition-colors uppercase tracking-wider">Team</a>
                    <a href="#software"
                        class="text-sm font-semibold text-slate-600 hover:text-purple-700 transition-colors uppercase tracking-wider">Software</a>
                    <a href="#contact"
                        class="text-sm font-semibold text-slate-600 hover:text-purple-700 transition-colors uppercase tracking-wider">Contact</a>

                    <a href="https://github.com" target="_blank" rel="noreferrer"
                        class="text-slate-400 dark:text-slate-500 hover:text-purple-700 dark:hover:text-purple-400 transition-colors">
                        <i data-lucide="github" class="w-5 h-5"></i>
                    </a>

                    <!-- Dark Mode Toggle (Desktop) -->
                    <button id="theme-toggle"
                        class="text-slate-400 dark:text-slate-500 hover:text-purple-700 dark:hover:text-purple-400 transition-colors focus:outline-none">
                        <i id="theme-toggle-icon" data-lucide="moon" class="w-5 h-5"></i>
                    </button>
                </nav>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center gap-4">
                    <!-- Dark Mode Toggle (Mobile) -->
                    <button id="theme-toggle-mobile"
                        class="text-slate-600 dark:text-slate-400 hover:text-purple-700 dark:hover:text-purple-400 focus:outline-none">
                        <i id="theme-toggle-icon-mobile" data-lucide="moon" class="w-5 h-5"></i>
                    </button>

                    <button id="mobile-menu-btn"
                        class="text-slate-600 dark:text-slate-400 hover:text-purple-700 dark:hover:text-purple-400 focus:outline-none p-2">
                        <i data-lucide="menu" class="w-6 h-6" id="menu-icon"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Dropdown (Hidden by default) -->
        <div id="mobile-menu"
            class="hidden md:hidden bg-white border-b border-purple-100 shadow-lg absolute w-full left-0">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="#home"
                    class="mobile-link block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-purple-50 hover:text-purple-700 rounded-lg transition-colors">Home</a>
                <a href="#about"
                    class="mobile-link block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-purple-50 hover:text-purple-700 rounded-lg transition-colors">About</a>
                <a href="#research"
                    class="mobile-link block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-purple-50 hover:text-purple-700 rounded-lg transition-colors">Research</a>
                <a href="#team"
                    class="mobile-link block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-purple-50 hover:text-purple-700 rounded-lg transition-colors">Team</a>
                <a href="#software"
                    class="mobile-link block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-purple-50 hover:text-purple-700 rounded-lg transition-colors">Software</a>
                <a href="#contact"
                    class="mobile-link block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-purple-50 hover:text-purple-700 rounded-lg transition-colors">Contact</a>
            </div>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section id="hero" class="relative overflow-hidden bg-black border-b border-slate-900">
        <!-- Background Effects (Abstract) -->
        <div class="absolute inset-0 w-full h-full pointer-events-none z-0 overflow-hidden">
            <!-- Deep atmospheric base -->
            <div
                class="absolute top-[-50%] left-[-20%] w-[150%] h-[150%] bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900/50 via-slate-950 to-black z-0">
            </div>

            <!-- Major Gradient Orbs (Darkened) -->
            <div
                class="absolute top-[-10%] right-[-5%] w-[800px] h-[800px] bg-purple-950/20 rounded-full blur-[120px] mix-blend-screen animate-pulse duration-[8000ms]">
            </div>
            <div
                class="absolute bottom-[-10%] left-[-10%] w-[900px] h-[900px] bg-slate-950/40 rounded-full blur-[130px] mix-blend-screen">
            </div>

            <!-- Vibrant Accents (Subtle) -->
            <div
                class="absolute top-[20%] left-[10%] w-[600px] h-[600px] bg-fuchsia-950/10 rounded-full blur-[100px] mix-blend-screen animate-pulse duration-[12000ms]">
            </div>
            <div
                class="absolute bottom-[20%] right-[20%] w-[500px] h-[500px] bg-indigo-950/20 rounded-full blur-[90px] mix-blend-screen">
            </div>

            <!-- Dynamic Light Streaks (Very Faint) -->
            <div
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1200px] h-[400px] bg-purple-900/5 rotate-[-15deg] blur-[80px] mix-blend-screen">
            </div>
            <div
                class="absolute top-[30%] right-[10%] w-[300px] h-[300px] bg-pink-950/5 rounded-full blur-[60px] mix-blend-overlay">
            </div>
        </div>

        <!-- Pixel Canvas -->
        <canvas id="hero-canvas" class="absolute inset-0 w-full h-full z-[1]"></canvas>

        <div
            class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-4 lg:pt-28 lg:pb-6 relative z-10 pointer-events-none">
            <div class="max-w-3xl pointer-events-auto">
                <div class="mb-6 inline-flex items-center gap-2">
                    <span class="h-px w-8 bg-purple-400"></span>
                    <span class="text-purple-300 text-xs font-bold tracking-widest uppercase">
                        Martinos Center · MGH · Harvard
                    </span>
                </div>
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight">
                    Computer Vision in <br /> <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400">Precision
                        Medicine</span>
                </h1>
                <p class="text-lg md:text-xl text-slate-300 mb-10 leading-relaxed font-light max-w-2xl">
                    We develop quantitative imaging and machine learning tools to decode complex medical data and
                    improve clinical decision-making in oncology.
                </p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="#research"
                        class="px-8 py-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-500 transition-all shadow-lg shadow-purple-900/20 text-center border border-transparent">
                        Explore Research
                    </a>
                    <a href="#contact"
                        class="px-8 py-3 bg-white/5 backdrop-blur-sm border border-white/10 text-white font-semibold rounded-lg hover:bg-white/10 hover:border-white/20 transition-all text-center">
                        Contact Lab
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Caption outside Hero -->
    <div
        class="bg-white dark:bg-slate-950 border-b border-slate-100 dark:border-slate-800 pb-6 pt-4 relative z-20 transition-colors duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-start">
            <p class="text-xs text-slate-400 dark:text-slate-500 italic font-light opacity-80">
                * Interaction based on the <span class="font-medium">Game of Life</span> (Conway, 1970), a cellular
                automaton model illustrating how simple rules generate complexity.
            </p>
        </div>
    </div>



    <!-- ... (Other sections) ... -->

    <!-- ABOUT SECTION -->
    <section id="about" class="py-24 bg-white dark:bg-slate-950">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-3 gap-16">
                <div class="lg:col-span-2">
                    <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-6">About the Laboratory</h2>
                    <div class="text-lg text-slate-600 dark:text-slate-300 leading-relaxed space-y-6">
                        <p>
                            The CVPM Laboratory (formerly QTIM) is dedicated to the development and clinical translation
                            of computational tools for medical imaging. We operate at the intersection of <span
                                class="text-purple-700 font-medium">computer science, radiology, and oncology</span>.
                        </p>
                        <p>
                            Our work focuses on extracting quantitative biomarkers from standard-of-care imaging (MRI,
                            CT, Pathology) to predict patient outcomes, monitor treatment response, and stratify
                            patients for clinical trials. By integrating these imaging features with genomic data, we
                            aim to advance the field of precision medicine.
                        </p>
                    </div>
                </div>

                <!-- Key Focus Cards -->
                <div class="space-y-4" id="research">
                    <h3 class="text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-4">Core
                        Focus</h3>

                    <div
                        class="p-5 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-purple-200 dark:hover:border-purple-800 transition-colors group">
                        <div class="flex items-start gap-4">
                            <div
                                class="p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm group-hover:bg-purple-600 transition-colors">
                                <i data-lucide="brain"
                                    class="w-5 h-5 text-purple-700 dark:text-purple-400 group-hover:text-white transition-colors"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-slate-900 dark:text-white">Neuro-Oncology</h4>
                                <p class="text-sm text-slate-600 dark:text-slate-400 mt-1">Brain metastasis segmentation
                                    and
                                    characterization.</p>
                            </div>
                        </div>
                    </div>

                    <div
                        class="p-5 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-purple-200 dark:hover:border-purple-800 transition-colors group">
                        <div class="flex items-start gap-4">
                            <div
                                class="p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm group-hover:bg-purple-600 transition-colors">
                                <i data-lucide="database"
                                    class="w-5 h-5 text-purple-700 dark:text-purple-400 group-hover:text-white transition-colors"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-slate-900 dark:text-white">Infrastructure</h4>
                                <p class="text-sm text-slate-600 dark:text-slate-400 mt-1">DICOM standards, data
                                    curation, and
                                    interoperability.</p>
                            </div>
                        </div>
                    </div>

                    <div
                        class="p-5 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-purple-200 dark:hover:border-purple-800 transition-colors group">
                        <div class="flex items-start gap-4">
                            <div
                                class="p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm group-hover:bg-purple-600 transition-colors">
                                <i data-lucide="activity"
                                    class="w-5 h-5 text-purple-700 dark:text-purple-400 group-hover:text-white transition-colors"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-slate-900 dark:text-white">Translation</h4>
                                <p class="text-sm text-slate-600 dark:text-slate-400 mt-1">Integration into real-world
                                    clinical workflows.
                                </p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- TEAM SECTION -->
    <section id="team" class="py-24 bg-slate-50 dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center max-w-2xl mx-auto mb-16">
                <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-4">Principal Investigators</h2>
                <p class="text-slate-600 dark:text-slate-400">Leading multidisciplinary teams to solve the hardest
                    problems in cancer
                    imaging.</p>
            </div>

            <div class="grid md:grid-cols-2 gap-8 lg:gap-12 mb-16">
                <!-- Albert Kim -->
                <div
                    class="bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-purple-200 dark:hover:border-purple-700 transition-all">
                    <div class="flex flex-col sm:flex-row items-center sm:items-start gap-6">
                        <div class="flex-shrink-0">
                            <div
                                class="w-24 h-24 bg-gradient-to-br from-slate-100 to-purple-50 rounded-full flex items-center justify-center text-purple-300 font-bold text-2xl border-4 border-white shadow-sm">
                                AK
                            </div>
                        </div>
                        <div class="text-center sm:text-left">
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white">Albert E. Kim, MD</h3>
                            <p class="text-purple-700 dark:text-purple-400 font-semibold text-sm mb-1">Co-Director</p>
                            <p
                                class="text-slate-500 dark:text-slate-400 text-xs mb-4 uppercase tracking-wide font-medium">
                                Assistant
                                Professor of Neurology, Harvard Medical School</p>
                            <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6">
                                Dr. Kim is a physician-scientist and oncologist. His research focuses on the
                                intersection of multimodal deep learning, genomics, and clinical oncology to identify
                                mechanisms of therapeutic resistance in brain metastases.
                            </p>
                            <div class="flex justify-center sm:justify-start gap-4">
                                <a href="#" class="text-slate-400 hover:text-purple-700 transition-colors"><i
                                        data-lucide="mail" class="w-5 h-5"></i></a>
                                <a href="#" class="text-slate-400 hover:text-purple-700 transition-colors"><i
                                        data-lucide="external-link" class="w-5 h-5"></i></a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chris Bridge -->
                <div
                    class="bg-white dark:bg-slate-800 p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-purple-200 dark:hover:border-purple-700 transition-all">
                    <div class="flex flex-col sm:flex-row items-center sm:items-start gap-6">
                        <div class="flex-shrink-0">
                            <div
                                class="w-24 h-24 bg-gradient-to-br from-slate-100 to-purple-50 rounded-full flex items-center justify-center text-purple-300 font-bold text-2xl border-4 border-white shadow-sm">
                                CB
                            </div>
                        </div>
                        <div class="text-center sm:text-left">
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white">Christopher P. Bridge, DPhil
                            </h3>
                            <p class="text-purple-700 dark:text-purple-400 font-semibold text-sm mb-1">Co-Director</p>
                            <p
                                class="text-slate-500 dark:text-slate-400 text-xs mb-4 uppercase tracking-wide font-medium">
                                Assistant
                                Professor of Radiology, Harvard Medical School</p>
                            <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6">
                                Dr. Bridge specializes in medical image analysis and AI infrastructure. His work
                                addresses the technical challenges of deploying machine learning models in clinical
                                environments, with a focus on DICOM standards and interoperability.
                            </p>
                            <div class="flex justify-center sm:justify-start gap-4">
                                <a href="#" class="text-slate-400 hover:text-purple-700 transition-colors"><i
                                        data-lucide="mail" class="w-5 h-5"></i></a>
                                <a href="#" class="text-slate-400 hover:text-purple-700 transition-colors"><i
                                        data-lucide="external-link" class="w-5 h-5"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional Team Members -->
            <div class="text-center max-w-2xl mx-auto mb-10">
                <h3 class="text-2xl font-bold text-slate-900 dark:text-white">Research Team</h3>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- Dagoberto Pulido -->
                <div
                    class="bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:border-purple-200 dark:hover:border-purple-700 transition-all flex items-start gap-5">
                    <div class="flex-shrink-0">
                        <div
                            class="w-16 h-16 bg-gradient-to-br from-slate-100 to-purple-50 rounded-full flex items-center justify-center text-purple-400 font-bold text-lg border-2 border-white dark:border-slate-600 shadow-sm">
                            DP
                        </div>
                    </div>
                    <div>
                        <h4 class="text-lg font-bold text-slate-900 dark:text-white">Dagoberto Pulido</h4>
                        <p class="text-purple-700 dark:text-purple-400 font-semibold text-xs mb-2">Research Scientist
                        </p>
                        <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed">
                            Specializes in advanced computer vision techniques, robust deep learning models for disease
                            detection, and quantitative image analysis.
                        </p>
                    </div>
                </div>

                <!-- Mason Cleveland -->
                <div
                    class="bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm hover:border-purple-200 dark:hover:border-purple-700 transition-all flex items-start gap-5">
                    <div class="flex-shrink-0">
                        <div
                            class="w-16 h-16 bg-gradient-to-br from-slate-100 to-purple-50 rounded-full flex items-center justify-center text-purple-400 font-bold text-lg border-2 border-white dark:border-slate-600 shadow-sm">
                            MC
                        </div>
                    </div>
                    <div>
                        <h4 class="text-lg font-bold text-slate-900 dark:text-white">Mason Cleveland</h4>
                        <p class="text-purple-700 dark:text-purple-400 font-semibold text-xs mb-2">Software Engineer</p>
                        <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed">
                            Leads engineering for computational platforms. Expert in scalable architectures, data
                            pipelines, and clinical tool interfaces.
                        </p>
                    </div>
                </div>
            </div>


        </div>
    </section>

    <!-- SOFTWARE SECTION -->
    <section id="software" class="py-24 bg-white dark:bg-slate-950">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-4">
                <div>
                    <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-2">Open Source Software</h2>
                    <p class="text-slate-600 dark:text-slate-400">Tools we build and maintain for the scientific
                        community.</p>
                </div>
                <a href="https://github.com"
                    class="px-5 py-2.5 bg-slate-900 dark:bg-slate-800 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-slate-700 transition-colors text-sm font-medium flex items-center shadow-lg shadow-slate-900/20">
                    <i data-lucide="github" class="w-4 h-4 mr-2"></i>
                    GitHub Organization
                </a>
            </div>

            <div class="grid md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div
                    class="border border-slate-200 dark:border-slate-800 p-8 rounded-2xl hover:border-purple-400 dark:hover:border-purple-500 hover:shadow-lg transition-all group bg-white dark:bg-slate-900">
                    <div
                        class="w-10 h-10 bg-purple-50 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mb-6 group-hover:bg-purple-600 transition-colors">
                        <i data-lucide="database"
                            class="w-5 h-5 text-purple-700 dark:text-purple-400 group-hover:text-white"></i>
                    </div>
                    <h3 class="font-bold text-slate-900 dark:text-white mb-3 text-lg">highdicom</h3>
                    <p class="text-slate-600 dark:text-slate-400 text-sm mb-6 leading-relaxed">
                        High-level DICOM abstraction library for Python. Facilitates the creation of DICOM SR, SEG, and
                        PM objects for medical image analysis.
                    </p>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-purple-500"></span>
                        <span class="text-xs font-semibold text-slate-500 dark:text-slate-400">Python Package</span>
                    </div>
                </div>

                <!-- Card 2 -->
                <div
                    class="border border-slate-200 dark:border-slate-800 p-8 rounded-2xl hover:border-purple-400 dark:hover:border-purple-500 hover:shadow-lg transition-all group bg-white dark:bg-slate-900">
                    <div
                        class="w-10 h-10 bg-purple-50 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mb-6 group-hover:bg-purple-600 transition-colors">
                        <i data-lucide="layers"
                            class="w-5 h-5 text-purple-700 dark:text-purple-400 group-hover:text-white"></i>
                    </div>
                    <h3 class="font-bold text-slate-900 dark:text-white mb-3 text-lg">DeepNeuro</h3>
                    <p class="text-slate-600 dark:text-slate-400 text-sm mb-6 leading-relaxed">
                        Deep learning framework providing pre-trained models for neuro-oncology tasks, including glioma
                        segmentation and synthesis.
                    </p>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-blue-500"></span>
                        <span class="text-xs font-semibold text-slate-500 dark:text-slate-400">Deep Learning</span>
                    </div>
                </div>

                <!-- Card 3 -->
                <div
                    class="border border-slate-200 dark:border-slate-800 p-8 rounded-2xl hover:border-purple-400 dark:hover:border-purple-500 hover:shadow-lg transition-all group bg-white dark:bg-slate-900">
                    <div
                        class="w-10 h-10 bg-purple-50 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mb-6 group-hover:bg-purple-600 transition-colors">
                        <i data-lucide="file-text"
                            class="w-5 h-5 text-purple-700 dark:text-purple-400 group-hover:text-white"></i>
                    </div>
                    <h3 class="font-bold text-slate-900 dark:text-white mb-3 text-lg">dcmqi</h3>
                    <p class="text-slate-600 dark:text-slate-400 text-sm mb-6 leading-relaxed">
                        Standardized conversion between research formats (NIfTI, NRRD) and DICOM, enabling
                        interoperability in imaging research.
                    </p>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                        <span class="text-xs font-semibold text-slate-500 dark:text-slate-400">C++ / Python</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer id="contact" class="bg-slate-900 text-slate-400 py-16 text-sm border-t border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-12">
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center gap-2 mb-6">
                        <img src="./img/CVPM.png" alt="CVPM Laboratory" class="h-8 w-auto object-contain">
                    </div>
                    <p class="mb-6 leading-relaxed max-w-sm">
                        Martinos Center for Biomedical Imaging<br />
                        149 13th Street, Charlestown, MA 02129
                    </p>
                    <a href="mailto:contact@cvpm-lab.org"
                        class="text-purple-400 hover:text-purple-300 font-medium flex items-center gap-2">
                        <i data-lucide="mail" class="w-4 h-4"></i> contact@cvpm-lab.org
                    </a>
                </div>

                <div>
                    <h3 class="text-white font-bold mb-6 uppercase tracking-wider text-xs">Affiliations</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="hover:text-purple-400 transition-colors">Mass General Hospital</a></li>
                        <li><a href="#" class="hover:text-purple-400 transition-colors">Harvard Medical School</a></li>
                        <li><a href="#" class="hover:text-purple-400 transition-colors">Martinos Center</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-white font-bold mb-6 uppercase tracking-wider text-xs">Connect</h3>
                    <div class="flex gap-4">
                        <a href="#"
                            class="bg-slate-800 p-2 rounded-full hover:bg-purple-600 hover:text-white transition-all">
                            <i data-lucide="linkedin" class="w-4 h-4"></i>
                        </a>
                        <a href="#"
                            class="bg-slate-800 p-2 rounded-full hover:bg-purple-600 hover:text-white transition-all">
                            <i data-lucide="github" class="w-4 h-4"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-slate-800 mt-16 pt-8 text-center text-slate-600 text-xs">
                &copy;
                <script>document.write(new Date().getFullYear())</script> Computer Vision in Precision Medicine Lab. All
                rights reserved.
            </div>
        </div>
    </footer>


    <!-- Scripts (Updated for Game of Life) -->
    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // --- Dark Mode Logic ---
        const toggleBtnDesktop = document.getElementById('theme-toggle');
        const toggleBtnMobile = document.getElementById('theme-toggle-mobile');
        const iconDesktop = document.getElementById('theme-toggle-icon');
        const iconMobile = document.getElementById('theme-toggle-icon-mobile');

        function updateIcons(isDark) {
            const iconName = isDark ? 'sun' : 'moon';
            if (iconDesktop) iconDesktop.setAttribute('data-lucide', iconName);
            if (iconMobile) iconMobile.setAttribute('data-lucide', iconName);
            lucide.createIcons();
        }

        function toggleTheme() {
            const html = document.documentElement;
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                localStorage.theme = 'light';
                updateIcons(false);
            } else {
                html.classList.add('dark');
                localStorage.theme = 'dark';
                updateIcons(true);
            }
        }

        // Initialize icons based on current state
        if (document.documentElement.classList.contains('dark')) {
            updateIcons(true);
        } else {
            updateIcons(false);
        }

        // Event Listeners
        if (toggleBtnDesktop) toggleBtnDesktop.addEventListener('click', toggleTheme);
        if (toggleBtnMobile) toggleBtnMobile.addEventListener('click', toggleTheme);


        // Mobile menu logic
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        const icon = document.getElementById('menu-icon');
        const links = document.querySelectorAll('.mobile-link');
        let isOpen = false;

        btn.addEventListener('click', () => {
            isOpen = !isOpen;
            if (isOpen) {
                menu.classList.remove('hidden');
            } else {
                menu.classList.add('hidden');
            }
        });

        links.forEach(link => {
            link.addEventListener('click', () => {
                isOpen = false;
                menu.classList.add('hidden');
            });
        });

        // --- Hero Game of Life ---
        const canvas = document.getElementById('hero-canvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            const heroSection = document.getElementById('hero');
            let width, height;
            let cols, rows;
            let grid = [];
            let nextGrid = [];

            // Configuration
            const cellSize = 20;
            const evolutionSpeed = 5; // Update speed
            let frameCount = 0;

            // Mouse
            let isMouseOver = false;

            function resize() {
                width = canvas.width = heroSection.offsetWidth;
                height = canvas.height = heroSection.offsetHeight;
                cols = Math.ceil(width / cellSize);
                rows = Math.ceil(height / cellSize);
                initGrid();
            }

            function initGrid() {
                grid = new Array(cols).fill(null).map(() => new Array(rows).fill(0));
                nextGrid = new Array(cols).fill(null).map(() => new Array(rows).fill(0));

                // Initialize with some random dead points (0)
                // Optional: Randomly seed at start
                for (let i = 0; i < cols; i++) {
                    for (let j = 0; j < rows; j++) {
                        grid[i][j] = Math.random() > 0.95 ? 1 : 0; // 5% initial life
                    }
                }
            }

            function draw() {
                ctx.clearRect(0, 0, width, height);

                // Draw live cells
                ctx.fillStyle = 'rgba(168, 85, 247, 0.4)'; // Purple

                for (let i = 0; i < cols; i++) {
                    for (let j = 0; j < rows; j++) {
                        if (grid[i][j] === 1) {
                            ctx.fillRect(i * cellSize, j * cellSize, cellSize - 1, cellSize - 1);
                        }
                    }
                }
            }

            function countNeighbors(grid, x, y) {
                let sum = 0;
                for (let i = -1; i < 2; i++) {
                    for (let j = -1; j < 2; j++) {
                        let col = (x + i + cols) % cols;
                        let row = (y + j + rows) % rows;
                        sum += grid[col][row];
                    }
                }
                sum -= grid[x][y];
                return sum;
            }

            function update() {
                for (let i = 0; i < cols; i++) {
                    for (let j = 0; j < rows; j++) {
                        let state = grid[i][j];
                        let neighbors = countNeighbors(grid, i, j);

                        if (state == 0 && neighbors == 3) {
                            nextGrid[i][j] = 1;
                        } else if (state == 1 && (neighbors < 2 || neighbors > 3)) {
                            nextGrid[i][j] = 0;
                        } else {
                            nextGrid[i][j] = state;
                        }
                    }
                }

                // Swap
                let temp = grid;
                grid = nextGrid;
                nextGrid = temp;
            }

            function animate() {
                // Always draw for visual smoothness if effects are added
                draw();

                // Update game logic every X frames
                if (frameCount % evolutionSpeed === 0) {
                    update();
                }
                frameCount++;

                requestAnimationFrame(animate);
            }

            // Event Listeners
            window.addEventListener('resize', resize);

            heroSection.addEventListener('mousemove', (e) => {
                const rect = heroSection.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                const col = Math.floor(x / cellSize);
                const row = Math.floor(y / cellSize);

                // Life brush (3x3)
                if (col >= 0 && col < cols && row >= 0 && row < rows) {
                    for (let i = -1; i <= 1; i++) {
                        for (let j = -1; j <= 1; j++) {
                            let c = (col + i + cols) % cols;
                            let r = (row + j + rows) % rows;
                            // Painting probability for organic feel
                            if (Math.random() > 0.3) grid[c][r] = 1;
                        }
                    }
                }
            });

            resize();
            animate();
        }
    </script>
</body>

</html>
